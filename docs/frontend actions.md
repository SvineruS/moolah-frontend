## 1) дозвіл для бекенда робити транзи замість юзера (на стороні контракту):
в об'єкті гравця додам поле relayerAddress чи шось таке.

якщо це поле не встановлене - бекенд не матиме права робити транзи за юзера.  
технічно це повністю ОПЦІОНАЛЬНА фіча, якщо юзер не збирається грати таким чином - можна його не просити це зробити.  

для надання доступу треба зробити транзу metatx_setRelayer (через метамаск, з бекенду не буде працювати по очевидним причинам)  
аргумент relayer - адреса яка може грати від твого імені. отримати можна зробивши POST запит на  
https://moolah-api.ambrosus-test.io/getRelayFor  {"playerAddress": "0x1111472FCa4260505EcE4AcD07717CADa41c1111"}  
щоб забрати доступ можна викликати цей же метод але з 0x00000.. адресою (через метамаск АБО бекенд, якщо він був підключений).  




## 2) реєстрація в грі:
в об'єкті гравця додам поле isRegistered чи шось таке.  
реєстрація НЕОБХІДНА щоб гравець отримав стартові бонуси, перше пасовище, міг клеймити реварди, т.д.  

для реєстрації треба зробити транзу players_register (через метамаск АБО бекенд).  


### 3) для отримання данних про пасовище гравця (по вебсокету) достатньо тільки адреси гравця.
(поки ні, але скоро оновлю)  



## 4) транзакції:
юзер МОЖЕ обирати як він хоче робити транзи, пунктом 4.1 АБО 4.2.  

### 4.1) щоб зробити транзу через метамаск потрібен метамаск)


### 4.2) щоб зробити транзу через бекенд потрібно:
- надати дозвіл з пункту 1
- об'єкт авторизації, який буде підверджувати що гравець володіє адресою, з якої він хоче зробити транзу.  
    
в якості авторизації я вирішив юзати зв'язку:
- tgAuth (initData) - завжди присутній у window, якщо юзер зайшов з telegram web app.  
  дозволяє впевнитись що юзер володіє деяким телеграм аккаунтом.
- web3Auth - криптографічний підпис приватним ключем користувача (через метамаск) повідомлення накшталт  
  `"я дозволяю робити транзакції від мого імені телеграм користувачу з айді 13371488265"`

по суті web3Auth відносно нескінченний і юзеру не доведеться постійно конектити метамаск.
а tgAuth автоматично рен'ювиться телеграмом.



## 5) маркетплейс:
Для quick-buy юзер має підписати свій order своїм приватним ключем (метамаск!) і надіслати на бекенд.  
Будь хто зможе accept-нути цей ордер (транза на метамаск АБО бекенд), автору не потрібно робити жодної транзи.  

Для аукціонів трошки навпаки, біддери роблять ордер і підписують його (метамаск!).   
Автор аукціону зможе обрати будь який бід і accept-нути його (транза на метамаск АБО бекенд), біддеру не потрібно робити жодної транзи.  

Я розглядаю можливість зробити підписи через бекенд в тому числі, але це треба буде подумати


